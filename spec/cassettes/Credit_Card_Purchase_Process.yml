---
http_interactions:
- request:
    method: post
    uri: https://<ADYEN_API_USERNAME>:<ADYEN_API_PASSWORD>@pal-test.adyen.com/pal/servlet/soap/Payment
    body:
      encoding: UTF-8
      string: |-
        <?xml version="1.0"?>
                <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
                  <soap:Body>
                            <payment:authorise xmlns:payment="http://payment.services.adyen.com" xmlns:recurring="http://recurring.services.adyen.com" xmlns:common="http://common.services.adyen.com">
                  <payment:paymentRequest>
                    <payment:merchantAccount><ADYEN_MERCHANT_ACCOUNT></payment:merchantAccount>
                    <payment:reference>R798811614</payment:reference>
                            <additionalAmount xmlns="http://payment.services.adyen.com" xsi:nil="true" />
                <additionalData xmlns="http://payment.services.adyen.com">
                  <entry>
                    <key xsi:type="xsd:string">card.encrypted.json</key>
                    <value xsi:type="xsd:string">adyenjs_0_1_17$oPbQOMwMJYhffMH629BfDLkxVE3tk3PLeVG6RGhKR0MdlixJvwVW82k/qUNvQiQNOWnhQsVm/s1ScSITbcpkZDIVprPDLkVVED71dYH+R6K8sFDs48lAMMmzgX5HMaJXmXLOee2I5JRZWL2r42dyCbUtyr84CkR6EaNqeF+xlsB5bCxHziiLqkKSXn9z7p6LwpVy5n+lPwiD+7743eIe2/eX5J8IvGCy7u0B0BE1sNTP64wUxYpoHicBokVqkwbYtnna5CWc8J76ooVlCM3Aqyb2JkA3xg161IEbrpgAcdey6MFPWVBooblrp7v3mKkjWGsDz1y5+UPu9uKA1iRzKg==$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</value>
                  </entry>
                </additionalData>
                <payment:recurring>
                  <payment:contract>RECURRING,ONECLICK</payment:contract>
                </payment:recurring>
                <payment:amount>
                  <common:currency>USD</common:currency>
                  <common:value>0</common:value>
                </payment:amount>
                <payment:shopperReference>R798811614</payment:shopperReference>
                <payment:shopperEmail>spree@example.com</payment:shopperEmail>
                <payment:shopperIP></payment:shopperIP>
                <payment:shopperStatement>R798811614</payment:shopperStatement>
                  </payment:paymentRequest>
                </payment:authorise>

                  </soap:Body>
                </soap:Envelope>
    headers:
      Accept:
      - text/xml
      Content-Type:
      - text/xml; charset=utf-8
      Soapaction:
      - authorise
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 02 May 2016 11:44:02 GMT
      Server:
      - Apache
      Set-Cookie:
      - JSESSIONID=5E64A5129FD1AA6C2E7E21CD582A6E4F.test4e; Path=/pal/; Secure; HttpOnly
      Last-Modified:
      - Mon, 02 May 2016 11:44:02 GMT
      Transfer-Encoding:
      - chunked
      Content-Type:
      - text/xml;charset=UTF-8
    body:
      encoding: UTF-8
      string: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"
        xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><soap:Body><ns1:authoriseResponse
        xmlns:ns1="http://payment.services.adyen.com"><ns1:paymentResult><additionalData
        xmlns="http://payment.services.adyen.com" xsi:nil="true" /><authCode xmlns="http://payment.services.adyen.com">68549</authCode><dccAmount
        xmlns="http://payment.services.adyen.com" xsi:nil="true" /><dccSignature xmlns="http://payment.services.adyen.com"
        xsi:nil="true" /><fraudResult xmlns="http://payment.services.adyen.com" xsi:nil="true"
        /><issuerUrl xmlns="http://payment.services.adyen.com" xsi:nil="true" /><md
        xmlns="http://payment.services.adyen.com" xsi:nil="true" /><paRequest xmlns="http://payment.services.adyen.com"
        xsi:nil="true" /><pspReference xmlns="http://payment.services.adyen.com">8614621894425714</pspReference><refusalReason
        xmlns="http://payment.services.adyen.com" xsi:nil="true" /><resultCode xmlns="http://payment.services.adyen.com">Authorised</resultCode></ns1:paymentResult></ns1:authoriseResponse></soap:Body></soap:Envelope>
    http_version: 
  recorded_at: Mon, 02 May 2016 11:44:02 GMT
- request:
    method: post
    uri: https://<ADYEN_API_USERNAME>:<ADYEN_API_PASSWORD>@pal-test.adyen.com/pal/servlet/soap/Recurring
    body:
      encoding: UTF-8
      string: |-
        <?xml version="1.0"?>
                <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
                  <soap:Body>
                        <recurring:listRecurringDetails xmlns:payment="http://payment.services.adyen.com" xmlns:recurring="http://recurring.services.adyen.com">
              <recurring:request>
                <recurring:recurring>
                  <payment:contract>RECURRING</payment:contract>
                </recurring:recurring>
                <recurring:merchantAccount><ADYEN_MERCHANT_ACCOUNT></recurring:merchantAccount>
                <recurring:shopperReference>R798811614</recurring:shopperReference>
              </recurring:request>
            </recurring:listRecurringDetails>

                  </soap:Body>
                </soap:Envelope>
    headers:
      Accept:
      - text/xml
      Content-Type:
      - text/xml; charset=utf-8
      Soapaction:
      - listRecurringDetails
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 02 May 2016 11:44:02 GMT
      Server:
      - Apache
      Set-Cookie:
      - JSESSIONID=38757088AD5B8E8FCC0EF73998565B8C.test3e; Path=/pal/; Secure; HttpOnly
      Pspreference:
      - '8514621894427083'
      Content-Length:
      - '1737'
      Content-Type:
      - text/xml;charset=utf-8
    body:
      encoding: UTF-8
      string: <?xml version="1.0" encoding="UTF-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"
        xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><soap:Body><recurring:listRecurringDetailsResponse
        xmlns:recurring="http://recurring.services.adyen.com"><recurring:result><creationDate
        xmlns="http://recurring.services.adyen.com">2016-05-02T13:44:02+02:00</creationDate><details
        xmlns="http://recurring.services.adyen.com"><RecurringDetail><bank xsi:nil="true"
        /><card><billingAddress xmlns="http://payment.services.adyen.com" xsi:nil="true"
        /><brand xmlns="http://payment.services.adyen.com" xsi:nil="true" /><cvc xmlns="http://payment.services.adyen.com"
        xsi:nil="true" /><expiryMonth xmlns="http://payment.services.adyen.com">6</expiryMonth><expiryYear
        xmlns="http://payment.services.adyen.com">2016</expiryYear><holderName xmlns="http://payment.services.adyen.com">John
        Doe</holderName><issueNumber xmlns="http://payment.services.adyen.com" xsi:nil="true"
        /><number xmlns="http://payment.services.adyen.com">1111</number><startMonth
        xmlns="http://payment.services.adyen.com" xsi:nil="true" /><startYear xmlns="http://payment.services.adyen.com"
        xsi:nil="true" /></card><creationDate>2016-05-02T13:44:02+02:00</creationDate><elv
        xsi:nil="true" /><name xsi:nil="true" /><recurringDetailReference>8314621894420528</recurringDetailReference><variant>visa</variant></RecurringDetail></details><lastKnownShopperEmail
        xmlns="http://recurring.services.adyen.com">spree@example.com</lastKnownShopperEmail><shopperReference
        xmlns="http://recurring.services.adyen.com">R798811614</shopperReference></recurring:result></recurring:listRecurringDetailsResponse></soap:Body></soap:Envelope>
    http_version: 
  recorded_at: Mon, 02 May 2016 11:44:02 GMT
- request:
    method: post
    uri: https://<ADYEN_API_USERNAME>:<ADYEN_API_PASSWORD>@pal-test.adyen.com/pal/servlet/soap/Payment
    body:
      encoding: UTF-8
      string: |-
        <?xml version="1.0"?>
                <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
                  <soap:Body>
                            <payment:authorise xmlns:payment="http://payment.services.adyen.com" xmlns:recurring="http://recurring.services.adyen.com" xmlns:common="http://common.services.adyen.com">
                  <payment:paymentRequest>
                    <payment:merchantAccount><ADYEN_MERCHANT_ACCOUNT></payment:merchantAccount>
                    <payment:reference>R798811614-XEDVNHQW</payment:reference>
                            <payment:recurring>
                  <payment:contract>RECURRING</payment:contract>
                </payment:recurring>
                <payment:selectedRecurringDetailReference>8314621894420528</payment:selectedRecurringDetailReference>
                <payment:shopperInteraction>ContAuth</payment:shopperInteraction>
                <payment:amount>
                  <common:currency>USD</common:currency>
                  <common:value>2000</common:value>
                </payment:amount>
                <payment:shopperReference>R798811614</payment:shopperReference>
                <payment:shopperEmail>spree@example.com</payment:shopperEmail>
                <payment:shopperIP></payment:shopperIP>
                <payment:shopperStatement>R798811614-XEDVNHQW</payment:shopperStatement><payment:captureDelayHours>0</payment:captureDelayHours>
                  </payment:paymentRequest>
                </payment:authorise>

                  </soap:Body>
                </soap:Envelope>
    headers:
      Accept:
      - text/xml
      Content-Type:
      - text/xml; charset=utf-8
      Soapaction:
      - authorise
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 02 May 2016 11:44:03 GMT
      Server:
      - Apache
      Set-Cookie:
      - JSESSIONID=1A13FA467B17CFC4FE049037B8993A14.test103e; Path=/pal/; Secure;
        HttpOnly
      Last-Modified:
      - Mon, 02 May 2016 11:44:03 GMT
      Transfer-Encoding:
      - chunked
      Content-Type:
      - text/xml;charset=UTF-8
    body:
      encoding: UTF-8
      string: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"
        xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><soap:Body><ns1:authoriseResponse
        xmlns:ns1="http://payment.services.adyen.com"><ns1:paymentResult><additionalData
        xmlns="http://payment.services.adyen.com" xsi:nil="true" /><authCode xmlns="http://payment.services.adyen.com">32181</authCode><dccAmount
        xmlns="http://payment.services.adyen.com" xsi:nil="true" /><dccSignature xmlns="http://payment.services.adyen.com"
        xsi:nil="true" /><fraudResult xmlns="http://payment.services.adyen.com" xsi:nil="true"
        /><issuerUrl xmlns="http://payment.services.adyen.com" xsi:nil="true" /><md
        xmlns="http://payment.services.adyen.com" xsi:nil="true" /><paRequest xmlns="http://payment.services.adyen.com"
        xsi:nil="true" /><pspReference xmlns="http://payment.services.adyen.com">8814621894434185</pspReference><refusalReason
        xmlns="http://payment.services.adyen.com" xsi:nil="true" /><resultCode xmlns="http://payment.services.adyen.com">Authorised</resultCode></ns1:paymentResult></ns1:authoriseResponse></soap:Body></soap:Envelope>
    http_version: 
  recorded_at: Mon, 02 May 2016 11:44:03 GMT
recorded_with: VCR 3.0.1
